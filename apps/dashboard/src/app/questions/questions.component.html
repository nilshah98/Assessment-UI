<div class="container">
    <!-- PROJECTS LIST -->
    <div class="col-50">
      <mat-card>
        <mat-card-header>
          <mat-card-title>
            <h1>Projects</h1>
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-list>
            <mat-list-item (click)="selectQuestion(question)"
                *ngFor="let question of questions">
              <h3 mat-line>
                  {{question.description}}
              </h3>
                <p *ngFor="let option of question.options; let i = index" mat-line>
                    {{i}}. {{option.data}}
                </p>
            </mat-list-item>
          </mat-list>
        </mat-card-content>
      </mat-card>
    </div>
    <!-- PROJECT DETAILS -->
    <div class="col-50">
      <mat-card>
        <mat-card-header>
          <mat-card-title>
            <h3>
                <span *ngIf="selectedQuestion.id; else elseBlock"> {{ selectedQuestion.description }} </span>
                <ng-template  #elseBlock> Add a question </ng-template>
            </h3>
          </mat-card-title>
        </mat-card-header>
        <form (submit)="saveQuestion(selectedQuestion)">
          <mat-card-content>
            <mat-form-field class="full-width">
              <input matInput placeholder="Description" type="text" name="description"
              [(ngModel)] = "selectedQuestion.description"
                >
            </mat-form-field>

            <mat-form-field  *ngFor="let option of selectedQuestion.options; let index = index">
              <input name={{index}} [(ngModel)]="option.data" matInput 
            placeholder="Option" [value]="option.data">
            </mat-form-field>

            <mat-form-field>
              <input matInput placeholder="Correct Option" type="number" name="correctOption"
                      [(ngModel)] = "selectedQuestion.correctOption" min="1" max={{selectedQuestion.options.length}}>
            </mat-form-field>
            
          </mat-card-content>
          <mat-card-actions>
            <button type="submit" mat-button color="primary">Save</button>
            <button type="button" mat-button (click)="addOption()">Add Option</button>
            <!-- <button type="button" mat-button (click)="cancel()">Cancel</button> -->
          </mat-card-actions>
        </form>
      </mat-card>
    </div>
  </div>